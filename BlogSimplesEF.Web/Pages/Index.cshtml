@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}


<style>
    td.details-view-control {
        background: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDQ1Ni43OTUgNDU2Ljc5NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDU2Ljc5NSA0NTYuNzk1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPGc+CgkJPHBhdGggZD0iTTQ0OC45NDcsMjE4LjQ3NWMtMC45MjItMS4xNjgtMjMuMDU1LTI4LjkzMy02MS01Ni44MWMtNTAuNzA1LTM3LjI1My0xMDUuODc3LTU2Ljk0NC0xNTkuNTUxLTU2Ljk0NCAgICBjLTUzLjY3MiwwLTEwOC44NDQsMTkuNjkxLTE1OS41NTEsNTYuOTQ0Yy0zNy45NDQsMjcuODc2LTYwLjA3Nyw1NS42NDItNjEsNTYuODFMMCwyMjguMzk3bDcuODQ2LDkuOTIzICAgIGMwLjkyMywxLjE2OCwyMy4wNTYsMjguOTM0LDYxLDU2LjgxMWM1MC43MDcsMzcuMjUyLDEwNS44NzksNTYuOTQzLDE1OS41NTEsNTYuOTQzYzUzLjY3MywwLDEwOC44NDUtMTkuNjkxLDE1OS41NS01Ni45NDMgICAgYzM3Ljk0NS0yNy44NzcsNjAuMDc4LTU1LjY0Myw2MS01Ni44MTFsNy44NDgtOS45MjNMNDQ4Ljk0NywyMTguNDc1eiBNMjI4LjM5NiwzMTUuMDM5Yy00Ny43NzQsMC04Ni42NDItMzguODY3LTg2LjY0Mi04Ni42NDIgICAgYzAtNy40ODUsMC45NTQtMTQuNzUxLDIuNzQ3LTIxLjY4NGwtMTkuNzgxLTMuMzI5Yy0xLjkzOCw4LjAyNS0yLjk2NiwxNi40MDEtMi45NjYsMjUuMDEzYzAsMzAuODYsMTMuMTgyLDU4LjY5NiwzNC4yMDQsNzguMTg3ICAgIGMtMjcuMDYxLTkuOTk2LTUwLjA3Mi0yNC4wMjMtNjcuNDM5LTM2LjcwOWMtMjEuNTE2LTE1LjcxNS0zNy42NDEtMzEuNjA5LTQ2LjgzNC00MS40NzhjOS4xOTctOS44NzIsMjUuMzItMjUuNzY0LDQ2LjgzNC00MS40NzggICAgYzE3LjM2Ny0xMi42ODYsNDAuMzc5LTI2LjcxMyw2Ny40MzktMzYuNzFsMTMuMjcsMTQuOTU4YzE1LjQ5OC0xNC41MTIsMzYuMzEyLTIzLjQxMiw1OS4xNjgtMjMuNDEyICAgIGM0Ny43NzQsMCw4Ni42NDEsMzguODY3LDg2LjY0MSw4Ni42NDJDMzE1LjAzNywyNzYuMTcyLDI3Ni4xNywzMTUuMDM5LDIyOC4zOTYsMzE1LjAzOXogTTM2OC4yNzMsMjY5Ljg3NSAgICBjLTE3LjM2OSwxMi42ODYtNDAuMzc5LDI2LjcxMy02Ny40MzksMzYuNzA5YzIxLjAyMS0xOS40OSwzNC4yMDMtNDcuMzI2LDM0LjIwMy03OC4xODhzLTEzLjE4Mi01OC42OTctMzQuMjAzLTc4LjE4OCAgICBjMjcuMDYxLDkuOTk3LDUwLjA3LDI0LjAyNCw2Ny40MzksMzYuNzFjMjEuNTE2LDE1LjcxNSwzNy42NDEsMzEuNjA5LDQ2LjgzNCw0MS40NzcgICAgQzQwNS45MSwyMzguMjY5LDM4OS43ODcsMjU0LjE2MiwzNjguMjczLDI2OS44NzV6IiBmaWxsPSIjMDAwMDAwIi8+CgkJPHBhdGggZD0iTTE3My4yNjEsMjExLjU1NWMtMS42MjYsNS4zMjktMi41MDcsMTAuOTgyLTIuNTA3LDE2Ljg0M2MwLDMxLjgzNCwyNS44MDcsNTcuNjQyLDU3LjY0Miw1Ny42NDIgICAgYzMxLjgzNCwwLDU3LjY0MS0yNS44MDcsNTcuNjQxLTU3LjY0MnMtMjUuODA3LTU3LjY0Mi01Ny42NDEtNTcuNjQyYy0xNS41MDYsMC0yOS41NzEsNi4xMzQtMzkuOTMyLDE2LjA5NGwyOC40MzIsMzIuMDQ4ICAgIEwxNzMuMjYxLDIxMS41NTV6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8L2c+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==) no-repeat center center;
        cursor: pointer;
    }

    td.details-control-edit {
        background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACHFBMVEUAAAAQGh8QGCAQFyAPGR4QGCAQGCAPGR8QGCAQGCAPFyEPGB4QGCAPGh4QFyAQGCAPGiIQGB8PGCATFx8PGSIQGCAPGCARFyAQGCAQGCAOFyAQGCAOGCAQGCAQGCAPGCEQGCAQGCAQGB8QGCAQGCAPGR8QFyEQGh8QGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCARGB8QGB8QGCAQGCAQGCAQGCAQGCAQGCAQGCAQGSAQGB8QGCAQGCAQGCAQGCAQGCARGB8QGCAQGCAQGSARGCEQGCAQGCAQGCAQGCAQGCAQGB8QGCASGh4QGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCARGB8QGB8QGCAQGCERGCAQGCAQGCAQGCAQGSAQGCAQGCARGB8QGB8QGCAQGCAQGB8QGCAQGCAQGCAQGSAQGCAQGCARGB8QGB8QGCAQGCAQGB8QGCAQGCAPGCAQGCAQGCAQGCARGB8QGB8QGCAQGCAQGB8QGCAQGCAQGCAQGCAQGCAQGCARGB8QGCAQGCAQGCAQGB8QGCAQGCAQGCAQGCAQGCAQGCAQGCEQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCARGB8QGCAQGCAQGSAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCAQGCD///+z4RO7AAAAs3RSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIH9vESGuqreXESLArAsbrZkRIrK7xUMbuHUitI4OY8pDC6mFIrSODQUCY8WtsiIitY4LUoIFELrBIyK1jgtRyVEMjrQjIrWOC1HJUAuOtiMitY4MUclQC462IxStjwoetVELjrUiPb8aBh4OjrUiVLIJC461Im6iBQgZj7QihdOissGsIUaFbVM8FSIs98sAAAABYktHRLPabf9+AAAAB3RJTUUH5AoSCTIIHduTTQAAAONJREFUGNNjYIACRiYNTS1tZhiXgYVVR1dP38CQDcpn5zAyNjE1M7ewhPI5raxtbO247B0coXwnZxdXN3cPTy9vEJ+bx8fXzz8gMCg4JDQMyOflC4+IjIqOiY2LT0jkZ2AQEExKTklNS8/IzMrOERJmEBHNzcsvKCwqLiktKxcTZ2CQqKisqq6pratvaGySlAKa0NzS2tbe0dnV3dMrLQOyoq9/guzESZOnTJ0mJw92w/QZMxUUZ82eM1dJAOLIefMXLFy0eMlSZW6oL5YtX7Fy1eo1Kqowb65dt37Dxk1q6jA+AKyuPm4XSCfcAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTEwLTE4VDA5OjUwOjA4LTA0OjAwAViVPwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0xMC0xOFQwOTo1MDowOC0wNDowMHAFLYMAAAAASUVORK5CYII=) no-repeat center center;
        cursor: pointer;
    }

    td.details-control-delete {
        background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABuVBMVEUAAAASRWITRWIURWISRWITRmMTRWMTRWITRGMTRWITRWMTRWMTRWMTRGITRGMTRWMTRWITRWMSRWMSRGMTRWMURWIRRWQAAFUTRWMTRWMSRWMTRWISRGUTQ2ISRWITRWMTRWMTRWIURWITRWISRWISRWITRWMSRWMTRmMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRmMTRmQTRWMTRWMTRWMTRWQTRWQTRWQTRWQTRWMTRWMTRWMTRmMTRWITRWMTRWMTRmMTRmMTRmMTRWMTRWMTRWMTRWITRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWITRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRGITRWMTRWMTRWMTRWMTRWMTRWMSRWIVRWUTRWMTRWMTRWMTRWMTRWMTRWMTRWMRRGITRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWMSRmMTRmMSRmMTRWMTRWMSRWMTRWMTRWMTRWMTRWMTRWMTRWMTRWISRGUSRWMTRWQTRWQTRWQSRWMTQ2L////RRW8VAAAAknRSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKISEKBXuTk3oFCWaDhsaMjcaGg2YJA1qyS0NGRkNLsloDI5YOKyIrDpciGpgkkXWRJJgaEZgtk3eTLZgRCZc2k3eTN5cJBJBCkpJDkAQBh0+SeJJQhwF+VmNSYld+cmAJDAlgcTijmJiYmKM4ARUfHx8VAYZ9dcgAAAABYktHRJKWBO8gAAAAB3RJTUUH5AoSCSQlRJx67wAAAMRJREFUGNNjYMAKGOXkFRSZEHxmJWUVVTV1FgiPVUNTS1tHV0/fwNDImBUowGZiamZuYWllbWNrZ88GUsLu4Ojk7OLi6ubuwQHWw+np5e3j6+vnHxDIBRbgDgoOCQ0LC4+IjOIBC/BGx8TGxccnJCYl84EF+FNS09Lj4zMys7IFwAKCObl5+QUFhUXFJUJgAWGR0rLyiorKqmpRMbCAuERNbV19fUNjkyTU5VLNLa1t7R2dXdJQAZnunt6+vv4JE2WxeRwAq/gtXkJU+ngAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMTAtMThUMDk6MzY6MzctMDQ6MDCcNFgxAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTEwLTE4VDA5OjM2OjM3LTA0OjAw7WngjQAAAABJRU5ErkJggg==) no-repeat center center;
        cursor: pointer;
    }
</style>
<!-- Content Header (Page header) -->
<section class="content">
    <div class="container-fluid">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <button class="btn btn-success" onclick="CriarPost()" id="btnAdd"><span class="glyphicon glyphicon-plus"></span> Adicionar Post</button>
                </div>
            </div>
        </div>
        <div class="row">
            <hr />&nbsp;
        </div>
        <div class="row">
            <div class="container">
                <table id="tabelaPosts" class="table table-striped table-bordered" style="width:100%">
                    <thead>
                        <tr>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th>PostId[Esconder senão for logado]</th>
                            <th>Title</th>
                            <th>Sumário</th>
                            <th>Data Criação</th>
                            <th>Responsável</th>
                        </tr>
                    </thead>
                    <tbody id="listaPostsTbody"></tbody>
                </table>
            </div>
        </div>

    </div>
</section>

<div id="postsModal" class="modal fade">
    <div class="modal-dialog modal-open">
        <!-- Modal content-->
        <div class="modal-content" style="width:100%">
            <div class="modal-header">
                <h4 class="modal-title">Posts EF</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <div class="modal-body" style="overflow:auto;">
                <h6 id="hInfoModalPostModal">[]</h6>

                <div class="row">
                    <div class="col-md-12">
                        <label>Titulo</label><br />
                        <input class='form-control' type='text' placeholder='Titulo' id="txtTitle" maxlength="100">
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-12">
                        <label>Sumário </label><br />
                        <input class='form-control' type='text' placeholder='Sumário' id="txtSummary" maxlength="500">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <label>Contéudo </label><br />
                        <input class='form-control' type='text' placeholder='Contéudo' id="txtContent" maxlength="200">
                    </div>
                </div>
                <div class="row" id="divPublishedOn">
                    <div class="col-md-12">
                        <label>Data Criação</label><br />
                        <input class='form-control' data-inputmask-alias="dd/mm/yyyy" data-inputmask="'yearrange': { 'minyear': '2019', 'maxyear': '2080' }"
                               data-val="true" placeholder="dd/mm/yyyy" type="text" value="" name="txtPublishedOn" maxlength="10"
                               id="txtPublishedOn">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <label>Responsável </label><br />
                        <input class='form-control' type='text' placeholder='Sumário' id="txtUserBlog" maxlength="200">
                    </div>
                </div>

                <div class="row"><hr />&nbsp;</div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="btnSalvar" onclick="SalvarDados();">Salvar</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- /.modal -->
<input type="hidden" id="hdnPostId" value="@this.User.Identity.IsAuthenticated.ToString().ToLower()" />
<!-- Import scripts and css -->
@section Scripts
{
    <script src="~/js/blog.js"></script>
}